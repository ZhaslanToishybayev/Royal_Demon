# Royal Demons – Release Plan

Первая цель — довести проект до релизного качества с оценкой 10/10 по всем критериям: проектирование, геймплей и функциональность, графика и интерфейс, код и архитектура, производительность.

## Фаза 0. Базовая аналитика

- Зафиксировать целевые метрики: минимальный FPS ≥ 120 на эталонной машине, время старта ≤ 5 с, критических багов = 0, UX-рейтинг ≥ 4.5/5 по внутреннему чек-листу.
- Собрать существующие TODO и известные проблемы.
- Проверить текущий процесс сборки и тестирования, задокументировать ошибки.
- Определить целевой технологический стек (JDK 17+, FXGL 17+, Gradle ≥ 8, JavaFX 21).

## Фаза 1. Архитектура и кодовая база

- Заменить статическое состояние (MainApp, PlayerComponent, UI) на сервисы FXGL/DI.
- Нормализовать структуру пакетов и привести имена к единому стилю (lowercase).
- Обновить Gradle-проекты: удалить `jcenter`, перейти на `implementation`/`testImplementation`, поднять версии FXGL и JavaFX, объявить совместимость с JDK 17+.
- Добавить статический анализ (SpotBugs, Checkstyle) и правила форматирования.
- Расширить покрытие тестами, заменить Java `assert` на JUnit Assertions, вынести общую тестовую инициализацию.

## Фаза 2. Геймплей и функциональность

- Документировать петлю прогрессии, систему наград и требований к игроку.
- Перенести балансировку оружия/врагов в конфигурационные файлы, добавить уровни сложности.
- Ввести сервисы загрузки баланса (например, `config/weapons.json`) для оперативного тюнинга без перекомпиляции.
- Расширить контент: новые комнаты, задания, достижения, события окружения.
- Добавить систему сохранения/загрузки, обучение, журнал задач и настройку биндов.
- Реализовать полноценные игровые настройки (геймплейные опции, accessibility).

## Фаза 3. Графика и интерфейс

- Обновить спрайты и анимации, унифицировать арт-стиль, добавить шейдеры/постэффекты без ущерба производительности.
- Переработать HUD и меню: адаптивные разрешения, локализация, темы, аудио/видео-настройки, инвентарь и диалоги.
- Привести кат-сцены к единому стилю, добавить озвучку/субтитры.
- Подготовить гайдлайны по визуалу и UI.

## Фаза 4. Производительность

- Провести профилирование (Java Mission Control, VisualVM), задокументировать узкие места.
- Заменить `java.util.Timer` на планировщики FXGL, оптимизировать физику и обработку столкновений.
- Батчить спрайты, применять ленивую загрузку активов, контролировать GC.
- Ввести стресс-тесты, автоматические замеры FPS/memory.

## Фаза 5. Тестирование и QA

- Настроить TestFX и headless сценарии для UI/геймплейных тестов.
- Подключить CI-пайплайн (GitHub Actions или аналог) с юнит-/интеграционными тестами, линтами, сборкой.
- Составить smoke/regression чек-листы и UX-сценарии.
- Добавить телеметрию, логирование, crash reporting для бета-сборок.

## Фаза 6. Подготовка релиза

- Собрать релизные билды (Gradle + jlink/jpackage), оформить дистрибутивы.
- Обновить README, wiki, changelog, FAQ, юридические сведения.
- Подготовить маркетинговые материалы (трейлер, скриншоты, баннеры).
- Организовать закрытое/открытое бета-тестирование, собрать обратную связь.
- Сформировать post-launch roadmap и план поддержки.
