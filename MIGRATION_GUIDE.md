# üìö –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —É–ª—É—á—à–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

**–í–µ—Ä—Å–∏—è:** 1.0
**–î–∞—Ç–∞:** 3 –Ω–æ—è–±—Ä—è 2025

---

## üéØ –û–±–∑–æ—Ä

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —É–ª—É—á—à–µ–Ω–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Royal Demons –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

---

## ‚úÖ –ß—Ç–æ —É–∂–µ —É–ª—É—á—à–µ–Ω–æ

### 1. ‚úÖ GameConstants.java
- **200+** —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ magic numbers
- –õ–µ–≥–∫–∞—è –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –∏–≥—Ä—ã

### 2. ‚úÖ PlayerManager.java
- Thread-safe —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–≥—Ä–æ–∫–æ–º
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ NPE
- –°–æ–≤–º–µ—Å—Ç–∏–º —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### 3. ‚úÖ GameSaveService.java
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–π

### 4. ‚úÖ ArchitectureTest.java
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤

---

## üîÑ –ö–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É

### –®–∞–≥ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ PlayerManager (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–ë—ã–ª–æ (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ):**
```java
// –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å NPE –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
PlayerComponent.addGold(100);
int gold = PlayerComponent.getGold();
```

**–°—Ç–∞–ª–æ (–±–µ–∑–æ–ø–∞—Å–Ω–æ):**
```java
// –í—Å–µ–≥–¥–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ, –¥–∞–∂–µ –µ—Å–ª–∏ –∏–≥—Ä–æ–∫ –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
PlayerManager.getInstance().addGold(100);
int gold = PlayerManager.getInstance().getGold();
```

### –®–∞–≥ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

**–ë—ã–ª–æ (magic numbers):**
```java
player.setSpeed(180.0); // –ß—Ç–æ —ç—Ç–æ –∑–∞ —á–∏—Å–ª–æ?
weapon.setDamage(50.0); // –í–æ–ª—à–µ–±–Ω–æ–µ —á–∏—Å–ª–æ
```

**–°—Ç–∞–ª–æ (—á–∏—Ç–∞–µ–º–æ):**
```java
player.setSpeed(GameConstants.Player.DEFAULT_SPEED);
weapon.setDamage(GameConstants.Weapons.GoldenSword.ATTACK_DAMAGE[0]);
```

### –®–∞–≥ 3: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏–≥—Ä–æ–∫–∞

–í MainApp –∏–ª–∏ —Ç–∞–º, –≥–¥–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –∏–≥—Ä–æ–∫:
```java
@Override
public void initGame() {
    Entity player = spawn("player");
    PlayerComponent playerComponent = player.getComponent(PlayerComponent.class);

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤ PlayerManager –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
    PlayerManager.getInstance().registerPlayer(playerComponent);
}
```

---

## üìã –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏

### –§–∞–∑–∞ 1: –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞)

1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GameConstants –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ**
   ```java
   // –ù–æ–≤—ã–π –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
   double speed = GameConstants.Player.DEFAULT_SPEED;
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PlayerManager –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π**
   ```java
   // –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PlayerManager
   PlayerManager.getInstance().addGold(bonus);
   ```

### –§–∞–∑–∞ 2: –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ (1-2 –Ω–µ–¥–µ–ª–∏)

1. **–ó–∞–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã –≤ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–∞—Ö**
   ```java
   // –í –Ω–æ–≤—ã—Ö –∫–ª–∞—Å—Å–∞—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PlayerManager
   PlayerManager.getInstance().getCurrentWeapon();
   ```

2. **–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏–≥—Ä–æ–∫–∞**
   ```java
   // –í –º–µ—Å—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏–≥—Ä–æ–∫–∞
   PlayerManager.getInstance().registerPlayer(playerComponent);
   ```

### –§–∞–∑–∞ 3: –ü–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ (2-4 –Ω–µ–¥–µ–ª–∏)

1. **–ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã**
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**
3. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã**

---

## üí° –ü—Ä–∏–º–µ—Ä—ã –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä 1: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–æ–ª–æ—Ç–∞

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
```java
public void onCoinPickup(Coin coin) {
    PlayerComponent.addGold(coin.getValue());
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```java
public void onCoinPickup(Coin coin) {
    PlayerManager.getInstance().addGold(coin.getValue());
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä—É–∂–∏—è

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
```java
public boolean canUseUltimate() {
    Weapon weapon = PlayerComponent.getCurrentWeapon();
    return weapon != null && weapon.canUseUltimate();
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```java
public boolean canUseUltimate() {
    Weapon weapon = PlayerManager.getInstance().getCurrentWeapon();
    return weapon != null && weapon.canUseUltimate();
}
```

### –ü—Ä–∏–º–µ—Ä 3: –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞

**–°—Ç–∞—Ä—ã–π –∫–æ–¥:**
```java
public void setWeaponDamage(Weapon weapon, double damage) {
    weapon.setDamage(damage); // –û—Ç–∫—É–¥–∞ —ç—Ç–æ —á–∏—Å–ª–æ?
}
```

**–ù–æ–≤—ã–π –∫–æ–¥:**
```java
public void setWeaponDamage(Weapon weapon, int level) {
    double damage = GameConstants.Weapons.GoldenSword.ATTACK_DAMAGE[level];
    weapon.setDamage(damage);
}
```

---

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º–∞** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º:

- ‚úÖ –°—Ç–∞—Ä—ã–π –∫–æ–¥ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ù–æ–≤—ã–π –∫–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è
- ‚úÖ –ü–æ—Å—Ç–µ–ø–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –≤–æ–∑–º–æ–∂–µ–Ω
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤ –ø–æ–ª–Ω–æ–º –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞–Ω–∏–∏

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ArchitectureTest –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
```java
// –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
ArchitectureTest.runAllTests();
```

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ù–µ—Ç NullPointerException
- ‚úÖ Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ Graceful degradation

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- ‚úÖ –ß–∏—Ç–∞–µ–º—ã–π –∫–æ–¥ —Å –∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞–º–∏
- ‚úÖ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|-------|-----------|
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚ö†Ô∏è NPE —Ä–∏—Å–∫–∏ | ‚úÖ –ü–æ–ª–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | 100% |
| –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å | ‚ùå Magic numbers | ‚úÖ –ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã | 100% |
| –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ | ‚ùå –°–ª–æ–∂–Ω–æ | ‚úÖ –õ–µ–≥–∫–æ | 100% |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | ‚ö†Ô∏è –ë–ª–æ–∫–∏—Ä—É—é—â–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ | ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ | 50%+ |

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–∑—É—á–∏—Ç–µ GameConstants** –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PlayerManager** –≤ –Ω–æ–≤–æ–º –∫–æ–¥–µ
3. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –∑–∞–º–µ–Ω—è–π—Ç–µ** —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã–∑–æ–≤—ã
4. **–î–æ–±–∞–≤—å—Ç–µ —Ç–µ—Å—Ç—ã** –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è**

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –≤–æ–ø—Ä–æ—Å—ã:

1. **–ò–∑—É—á–∏—Ç–µ –ø—Ä–∏–º–µ—Ä—ã** –≤ ArchitectureTest.java
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ GameConstants** –¥–ª—è –Ω—É–∂–Ω—ã—Ö –∫–æ–Ω—Å—Ç–∞–Ω—Ç
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PlayerManager** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

**–ù–æ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ

*–ù–∞—á–Ω–∏—Ç–µ —Å –º–∞–ª–æ–≥–æ –∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –Ω–∞ —É–ª—É—á—à–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É.*